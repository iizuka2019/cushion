<html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" type="text/css" href="cushion.css" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/jquery.circliful.css">
    
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>すまほー</title>
   </head>

  <body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="js/jquery.circliful.js"></script>
<script>
    $( document ).ready(function() { // 6,32 5,38 2,34
        $("#test-circle").circliful({
            animation: 1,
            animationStep: 5,
            foregroundBorderWidth: 15,
            backgroundBorderWidth: 15,
            percent: 38,
            textSize: 28,
            textStyle: 'font-size: 12px;',
            textColor: '#666',
        });
        $("#test-circle2").circliful({
            animation: 1,
            animationStep: 6,
            foregroundBorderWidth: 5,
            backgroundColor: "none",
            fillColor: '#eee',
            percent: 50,
            iconColor: '#3498DB',
            icon: 'f206',
            iconSize: '40',
            iconPosition: 'middle'
        });
        $("#test-circle3").circliful({
            animation: 1,
            animationStep: 6,
            foregroundBorderWidth: 5,
            backgroundBorderWidth: 1,
            percent: 88,
            iconColor: '#3498DB',
            icon: 'f004',
            iconSize: '40',
            iconPosition: 'middle'
        });
        $("#test-circle4").circliful({
            animation: 1,
            animationStep: 1,
            target: 10,
            start: 2,
            showPercent: 1,
            backgroundColor: '#000',
            foregroundColor: '#A8C64A',
            fontColor: '#000',
            iconColor: '#000',
            icon: 'f0a0',
            iconSize: '40',
            iconPosition: 'middle',
            text: 'No Kids'
        });
        $("#test-circle5").circliful({
            animationStep: 5,
            foregroundBorderWidth: 5,
            backgroundBorderWidth: 15,
            animateInView: true,
            percent: 80,
            icon: 'f0a0',
            iconPosition: 'middle',
            text: 'Space Left',
            textBelow: true
        });
        $("#test-circle6").circliful({
            animation: 1,
            animationStep: 5,
            foregroundBorderWidth: 7,
            backgroundBorderWidth: 7,
            textSize: 28,
            textStyle: 'font-size: 12px;',
            textColor: '#666',
            multiPercentage: 1,
            percentages: [
                {'percent': 10, 'color': '#3180B8', 'title': 'Gryffindor' },
                {'percent': 30, 'color': '#4ADBEA', 'title': 'Ravenclaw' },
                {'percent': 50, 'color': '#49EBA8', 'title': 'Hufflepuff' },
                {'percent': 70, 'color': '#FFCA35', 'title': 'Slytherin' }
            ],
            multiPercentageLegend: 1,
            replacePercentageByText: '',
            backgroundColor: '#eee',
            icon: 'f0d0',
            iconPosition: 'middle'
        });
        $("#test-circle7").circliful({
            animation: 0,
            animationStep: 1,
            animateInView: true,
            percent: 80,
            textSize: 28,
            textStyle: 'font-size: 12px;',
            textColor: '#666',
            progressColor: {10: '#00A0E9', 20: '#009E96', 30: '#009944', 40: '#8FC31F', 50: '#FFF100', 60: '#F39800', 70: '#EA5532', 80: '#EA5532'}
        });
    });
</script>
    
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAmSempEJ9w0lu8yYkFbdmpgI8nnlOC_YU",
            authDomain: "enebular-motion.firebaseapp.com",
            databaseURL: "https://enebular-motion.firebaseio.com",
            projectId: "enebular-motion",
            storageBucket: "",
            messagingSenderId: "367617695978"
        };
        firebase.initializeApp(config);
    </script>
    
    <script>
    //読み込み処理
      var today = new Date();
      var strYear=today.getFullYear();
      var strMonth=today.getMonth()+1;
      var strDay=today.getDate();

      firebase.database().ref('/table1/').on('value',function(snapshot) {
        document.getElementById("Sittingtime").innerHTML = snapshot.child("Sittingtime").val();
        document.getElementById("Standtime").innerHTML = snapshot.child("Standtime").val();  
        //document.getElementById("status").innerHTML = snapshot.child("TargetDate").val();  
        document.getElementById("status").innerHTML =strYear + '年' + strMonth + '月' + strDay + '日'
        document.getElementById("TargetDate-text").innerHTML =today
      });
      
      firebase.database().ref('/myinfo/').on('value',function(snapshot) {
        document.getElementById("age-text").value = snapshot.child("age").val();
        document.getElementById("weight-text").value = snapshot.child("myweight").val();        
        var strGender =  snapshot.child("genders").val();
        var element = document.getElementById("gender") ;
        var elements = element.genders ;
          if (strGender=='male'){
            elements[0].checked = true ;
          }else{
            elements[1].checked = true ;
          }
      });
    
    </script>
    
<section class="container">


    <div class="row">
        <div class="col-lg-2">
            <div id="test-circle7" data-type = "half" data-text="座ってる時間"></div>
        </div>
    </div>

    <script>
    //書き込み処理
      var today = new Date();
      var strYear=today.getFullYear();
      var strMonth=today.getMonth()+1;
      var strDate=today.getDate();
            
      var db = firebase.database();
      
      var myChatAll = db.ref("/myinfo/");
      function changeData(){
        var txtAge = document.getElementById("age-text").value;
        var txtWeight = document.getElementById("weight-text").value;
        
        var element = document.getElementById("gender") ;
        var elements = element.genders ;
        var strGender =  "";

        if (elements[0].checked == true){
          strGender = 'male' ;
        }else{
          strGender = 'female' ;
        }
        //myChatAll.set({age:txtAge, genders:strGender,myweight:txtWeight,weight:"0.1",Sittingtime:"16" ,Standtime:"41"});
        myChatAll.set({age:txtAge, genders:strGender,myweight:txtWeight});
      }
      
    </script>
    <script>
      function handlerToggleLed(strLR) {
        if(strLR == "left"){
          var today = document.getElementById("TargetDate-text").innerHTML;
          today.setDate(today.getDate() - 1);          
          
          var strYear=today.getFullYear();
          var strMonth=today.getMonth()+1;
          var strDay=today.getDate();
          
          document.getElementById("status").innerHTML =strYear + '年' + strMonth + '月' + strDay + '日'
        }
      }
    </script>
    
    <!-- Title -->
    <h2>スマートクッション</h2>
    <hr />
      <span id="status" class="liffinput"></span>
      <input type="HIDDEN" name="TargetDate" id="TargetDate-text" >
    <hr />

      <!-- Device Info Table -->
      <table class="device-info-table">
        <tr>
          <th>座ってる時間：</th>
          <td class="liffinput" id="Sittingtime">秒</td>          
        </tr>
        <tr>
          <th>立上がった回数：</th>
          <td class="liffinput" id="Standtime">回</td>
        </tr>
      </table>

      <table class="device-info-table">
        <tr>
          <th>体重：</th>
          <td><input type="tel" class="liffinput"  name="weight" maxlength="3" id="weight-text" onchange="changeData()"> kg
          </td>
        </tr>
        <tr>
          <th>年齢：</th>
          <td><input type="tel" class="liffinput" name="age" maxlength="3" id="age-text" onchange="changeData()"> 才
    
          </td>
        </tr>
        <tr>
          <th>性別：</th>
          <td>
            
          <form id="gender">
                <input type="radio" name="genders" class="liffRadio" value="male" onchange="changeData()">男性
                <input type="radio" name="genders" class="liffRadio" value="female" onchange="changeData()">女性
          </form>

          </td>
        </tr>
      </table>
    
      <!-- Toggle LED -->
     <table class="device-info-table">
      <tr>
        <th>
          <button id="btn-led-toggle-left " class="btn btn-led-toggle" onclick="handlerToggleLed('left')">＜</button>
        </th>
        <td>
          <button id="btn-led-toggle-right" class="btn btn-led-toggle" onclick="handlerToggleLed('right')">＞</button>
        </td>
      </tr>
    </table>
    <!--
    <footer>
      <a href="https://twitter.com/share" class="twitter-share-button" data-text="結果報告：今日は5時間10分も座ってたよー立ち上がった回数は8回だよーやばいよー" data-url="https://www.takano-hw.com/" data-size="large" data-hashtags="タカノ">Tweet</a>
    </footer>
-->
</section>
    
    
  </body>

</html>
